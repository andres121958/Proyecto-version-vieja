<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:composition>
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1>Usuarios registrados</h1>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item text-primary">Administrador</li>
                                <li class="breadcrumb-item active">Usuarios registrados</li>
                            </ol>
                        </div>
                    </div>
                </div><!-- /.container-fluid -->
            </section>

            <!-- Main content -->
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <!-- /.card-header -->
                            <div class="card-body">
                                <h:form>
                                    <table id="example1" class="table table-bordered table-striped">
                                        <thead>
                                            <tr>
                                                <th>Nombres</th>
                                                <th>Apellidos</th>
                                                <th>Correo</th>
                                                <th>Telefono</th>
                                                <th>Tipo documento</th>
                                                <th>Documento</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <c:forEach items="#{usuarioSesion.usuariosRegistrados}" var="usuario">
                                                <tr>
                                                    <td>#{usuario.primerNombre} #{usuario.segundoNombre}</td>
                                                    <td>#{usuario.primerApellido} #{usuario.segundoApellido}</td>
                                                    <td>#{usuario.correo}</td>
                                                    <td>#{usuario.telefono}</td>
                                                    <td>#{usuario.tipoDocumento}</td>
                                                    <td>#{usuario.documento}</td>
                                                    <td>
                                                        <h:commandButton value="Eliminar" class="btn btn-danger" 
                                                                         action="#{usuarioSesion.eliminarUsuario(usuario)}"/>
                                                    </td>
                                                </tr>
                                            </c:forEach>                                                                                                                             
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Nombres</th>
                                                <th>Apellidos</th>
                                                <th>Correo</th>
                                                <th>Telefono</th>
                                                <th>Tipo documento</th>
                                                <th>Documento</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                    <div class="container">
                                        <button type="button" onclick="tableToExcel('example1', 'Usuarios Registrados')" value="Export to Excel" class="btn btn-success">Exportar Excel</button>
                                    </div>
                                </h:form>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->
                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /.container-fluid -->

            <!-- /.content -->
        </div>
    </ui:composition>
</html>
